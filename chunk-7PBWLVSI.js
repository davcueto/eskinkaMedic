import{Aa as rr,B as Ki,Da as sr,M as Gi,X as Ji,ja as Yi,k as Bi,ka as Xi,la as Ye,ma as Zi,na as Ht,o as ji,oa as Qi,q as qi,ra as er,sa as tr,ya as nr,za as ir}from"./chunk-YHPP4PG2.js";import{$b as zt,Ac as Wi,Ba as yi,Ca as Lt,Da as M,Dc as Wt,Eb as Ge,Ec as $i,G as Dt,Ga as Ti,Gb as xt,Gc as $t,Hb as Je,Ib as Si,La as qe,O as pi,P as mi,Rb as Ft,Sb as Vt,Tb as Pi,Ub as Ri,Vb as Oi,Xb as Ni,Z as Fe,Zb as Di,c as Pt,da as Ve,dd as Hi,ec as Li,f as xe,fb as _e,fc as Mi,ga as ze,gc as Ui,hb as wi,i as di,ia as gi,j as hi,ja as _,jb as bi,k as fi,ka as Y,kb as Ai,la as We,lc as xi,mb as Ci,mc as Fi,n as Rt,oa as _i,pa as $e,q as Ot,r as Nt,ra as vi,sa as Ii,sb as ki,ta as He,ua as Be,ub as Ke,va as Ei,wb as Mt,xa as je,yb as Ut,yc as Vi,zc as zi}from"./chunk-7TJJKWY6.js";import{a as G,b as ae,f as J,g as l}from"./chunk-RA2WU32H.js";var or=()=>{};var lr=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Js=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],c=n[t++],a=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,c=o?n[r+1]:0,a=r+2<n.length,u=a?n[r+2]:0,h=s>>2,p=(s&3)<<4|c>>4,d=(c&15)<<2|u>>6,m=u&63;a||(m=64,o||(d=64)),i.push(t[h],t[p],t[d],t[m])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lr(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Js(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||c==null||u==null||p==null)throw new jt;let d=s<<2|c>>4;if(i.push(d),u!==64){let m=c<<4&240|u>>2;if(i.push(m),p!==64){let T=u<<6&192|p;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},jt=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ys=function(n){let e=lr(n);return Xe.encodeByteArray(e,!0)},Kt=function(n){return Ys(n).replace(/\./g,"")},Ze=function(n){try{return Xe.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ur(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Xs=()=>ur().__FIREBASE_DEFAULTS__,Zs=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Qs=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ze(n[1]);return e&&JSON.parse(e)},Gt=()=>{try{return or()||Xs()||Zs()||Qs()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dr=n=>{var e,t;return(t=(e=Gt())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]};var Jt=()=>{var n;return(n=Gt())===null||n===void 0?void 0:n.config},Yt=n=>{var e;return(e=Gt())===null||e===void 0?void 0:e[`_${n}`]};var X=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Ie(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function hr(n){return l(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var ve={};function eo(){let n={prod:[],emulator:[]};for(let e of Object.keys(ve))ve[e]?n.emulator.push(e):n.prod.push(e);return n}function to(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var ar=!1;function fr(n,e){if(typeof window>"u"||typeof document>"u"||!Ie(window.location.host)||ve[n]===e||ve[n]||ar)return;ve[n]=e;function t(d){return`__firebase__banner__${d}`}let i="__firebase__banner",s=eo().prod.length>0;function o(){let d=document.getElementById(i);d&&d.remove()}function c(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function a(d,m){d.setAttribute("width","24"),d.setAttribute("id",m),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){let d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{ar=!0,o()},d}function h(d,m){d.setAttribute("id",m),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function p(){let d=to(i),m=t("text"),T=document.getElementById(m)||document.createElement("span"),me=t("learnmore"),oe=document.getElementById(me)||document.createElement("a"),ge=t("preprendIcon"),q=document.getElementById(ge)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){let K=d.element;c(K),h(oe,me);let Ue=u();a(q,ge),K.append(q,T,oe,Ue),document.body.appendChild(K)}s?(T.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function I(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pr(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I())}function mr(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gr(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _r(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vr(){let n=I();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Qe(){try{return typeof indexedDB=="object"}catch{return!1}}function Ir(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var no="FirebaseError",w=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=no,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b.prototype.create)}},b=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?io(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new w(r,c,i)}};function io(n,e){return n.replace(ro,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var ro=/\{\$([^}]+)}/g;function Er(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function U(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(cr(s)&&cr(o)){if(!U(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function cr(n){return n!==null&&typeof n=="object"}function Ee(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ce(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function le(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yr(n,e){let t=new qt(n,e);return t.subscribe.bind(t)}var qt=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");so(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Bt),r.error===void 0&&(r.error=Bt),r.complete===void 0&&(r.complete=Bt);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function so(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bt(){}var Du=4*60*60*1e3;function C(n){return n&&n._delegate?n._delegate:n}var E=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Z="[DEFAULT]";var Xt=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new X;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ao(e))try{this.getOrInitializeService({instanceIdentifier:Z})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Z){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Z){return this.instances.has(e)}getOptions(e=Z){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oo(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Z){return this.component?this.component.multipleInstances?e:Z:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oo(n){return n===Z?void 0:n}function ao(n){return n.instantiationMode==="EAGER"}var et=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Xt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var co=[],g=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(g||{}),lo={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},uo=g.INFO,ho={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},fo=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=ho[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},x=class{constructor(e){this.name=e,this._logLevel=uo,this._logHandler=fo,this._userLogHandler=null,co.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in g))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...e),this._logHandler(this,g.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...e),this._logHandler(this,g.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,g.INFO,...e),this._logHandler(this,g.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,g.WARN,...e),this._logHandler(this,g.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...e),this._logHandler(this,g.ERROR,...e)}};var po=(n,e)=>e.some(t=>n instanceof t),Tr,wr;function mo(){return Tr||(Tr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function go(){return wr||(wr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var br=new WeakMap,Qt=new WeakMap,Ar=new WeakMap,Zt=new WeakMap,tn=new WeakMap;function _o(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(k(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&br.set(t,n)}).catch(()=>{}),tn.set(e,n),e}function vo(n){if(Qt.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Qt.set(n,e)}var en={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qt.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ar.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return k(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Cr(n){en=n(en)}function Io(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(tt(this),e,...t);return Ar.set(i,e.sort?e.sort():[e]),k(i)}:go().includes(n)?function(...e){return n.apply(tt(this),e),k(br.get(this))}:function(...e){return k(n.apply(tt(this),e))}}function Eo(n){return typeof n=="function"?Io(n):(n instanceof IDBTransaction&&vo(n),po(n,mo())?new Proxy(n,en):n)}function k(n){if(n instanceof IDBRequest)return _o(n);if(Zt.has(n))return Zt.get(n);let e=Eo(n);return e!==n&&(Zt.set(n,e),tn.set(e,n)),e}var tt=n=>tn.get(n);function Sr(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),c=k(o);return i&&o.addEventListener("upgradeneeded",a=>{i(k(o.result),a.oldVersion,a.newVersion,k(o.transaction),a)}),t&&o.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),r&&a.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var yo=["get","getKey","getAll","getAllKeys","count"],To=["put","add","delete","clear"],nn=new Map;function kr(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(nn.get(e))return nn.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=To.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yo.includes(t)))return;let s=function(o,...c){return l(this,null,function*(){let a=this.transaction(o,r?"readwrite":"readonly"),u=a.store;return i&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),r&&a.done]))[0]})};return nn.set(e,s),s}Cr(n=>ae(G({},n),{get:(e,t,i)=>kr(e,t)||n.get(e,t,i),has:(e,t)=>!!kr(e,t)||n.has(e,t)}));var sn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wo(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function wo(n){let e=n.getComponent();return e?.type==="VERSION"}var on="@firebase/app",Pr="0.13.2";var R=new x("@firebase/app"),bo="@firebase/app-compat",Ao="@firebase/analytics-compat",Co="@firebase/analytics",ko="@firebase/app-check-compat",So="@firebase/app-check",Po="@firebase/auth",Ro="@firebase/auth-compat",Oo="@firebase/database",No="@firebase/data-connect",Do="@firebase/database-compat",Lo="@firebase/functions",Mo="@firebase/functions-compat",Uo="@firebase/installations",xo="@firebase/installations-compat",Fo="@firebase/messaging",Vo="@firebase/messaging-compat",zo="@firebase/performance",Wo="@firebase/performance-compat",$o="@firebase/remote-config",Ho="@firebase/remote-config-compat",Bo="@firebase/storage",jo="@firebase/storage-compat",qo="@firebase/firestore",Ko="@firebase/ai",Go="@firebase/firestore-compat",Jo="firebase",Yo="11.10.0";var an="[DEFAULT]",Xo={[on]:"fire-core",[bo]:"fire-core-compat",[Co]:"fire-analytics",[Ao]:"fire-analytics-compat",[So]:"fire-app-check",[ko]:"fire-app-check-compat",[Po]:"fire-auth",[Ro]:"fire-auth-compat",[Oo]:"fire-rtdb",[No]:"fire-data-connect",[Do]:"fire-rtdb-compat",[Lo]:"fire-fn",[Mo]:"fire-fn-compat",[Uo]:"fire-iid",[xo]:"fire-iid-compat",[Fo]:"fire-fcm",[Vo]:"fire-fcm-compat",[zo]:"fire-perf",[Wo]:"fire-perf-compat",[$o]:"fire-rc",[Ho]:"fire-rc-compat",[Bo]:"fire-gcs",[jo]:"fire-gcs-compat",[qo]:"fire-fst",[Go]:"fire-fst-compat",[Ko]:"fire-vertex","fire-js":"fire-js",[Jo]:"fire-js-all"};var ye=new Map,Zo=new Map,cn=new Map;function Rr(n,e){try{n.container.addComponent(e)}catch(t){R.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function O(n){let e=n.name;if(cn.has(e))return R.debug(`There were multiple attempts to register component ${e}.`),!1;cn.set(e,n);for(let t of ye.values())Rr(t,n);for(let t of Zo.values())Rr(t,n);return!0}function nt(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function y(n){return n==null?!1:n.settings!==void 0}var Qo={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},F=new b("app","Firebase",Qo);var ln=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw F.create("app-deleted",{appName:this._name})}};var ue=Yo;function hn(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:an,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw F.create("bad-app-name",{appName:String(r)});if(t||(t=Jt()),!t)throw F.create("no-options");let s=ye.get(r);if(s){if(U(t,s.options)&&U(i,s.config))return s;throw F.create("duplicate-app",{appName:r})}let o=new et(r);for(let a of cn.values())o.addComponent(a);let c=new ln(t,i,o);return ye.set(r,c),c}function we(n=an){let e=ye.get(n);if(!e&&n===an&&Jt())return hn();if(!e)throw F.create("no-app",{appName:n});return e}function it(){return Array.from(ye.values())}function v(n,e,t){var i;let r=(i=Xo[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),R.warn(c.join(" "));return}O(new E(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var ea="firebase-heartbeat-database",ta=1,Te="firebase-heartbeat-store",rn=null;function Lr(){return rn||(rn=Sr(ea,ta,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Te)}catch(t){console.warn(t)}}}}).catch(n=>{throw F.create("idb-open",{originalErrorMessage:n.message})})),rn}function na(n){return l(this,null,function*(){try{let t=(yield Lr()).transaction(Te),i=yield t.objectStore(Te).get(Mr(n));return yield t.done,i}catch(e){if(e instanceof w)R.warn(e.message);else{let t=F.create("idb-get",{originalErrorMessage:e?.message});R.warn(t.message)}}})}function Or(n,e){return l(this,null,function*(){try{let i=(yield Lr()).transaction(Te,"readwrite");yield i.objectStore(Te).put(e,Mr(n)),yield i.done}catch(t){if(t instanceof w)R.warn(t.message);else{let i=F.create("idb-set",{originalErrorMessage:t?.message});R.warn(i.message)}}})}function Mr(n){return`${n.name}!${n.options.appId}`}var ia=1024,ra=30,un=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new dn(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return l(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Nr();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>ra){let o=oa(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){R.warn(i)}})}getHeartbeatsHeader(){return l(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Nr(),{heartbeatsToSend:i,unsentEntries:r}=sa(this._heartbeatsCache.heartbeats),s=Kt(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return R.warn(t),""}})}};function Nr(){return new Date().toISOString().substring(0,10)}function sa(n,e=ia){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Dr(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Dr(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var dn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Qe()?Ir().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield na(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Or(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Or(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Dr(n){return Kt(JSON.stringify({version:2,heartbeats:n})).length}function oa(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function aa(n){O(new E("platform-logger",e=>new sn(e),"PRIVATE")),O(new E("heartbeat",e=>new un(e),"PRIVATE")),v(on,Pr,n),v(on,Pr,"esm2017"),v("fire-js","")}aa("");var ca="firebase",la="11.10.0";v(ca,la,"app");var he=new zi("ANGULARFIRE2_VERSION");function fn(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var st=(n,e)=>{let t=e?[e]:it(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},de=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(de||{}),Ur=Wt()&&typeof Zone<"u"?de.WARN:de.SILENT;var rt=class{zone;delegate;constructor(e,t=fi){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r?r.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,i)}},fe=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=_(M);this.outsideAngular=t.runOutsideAngular(()=>new rt(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new rt(typeof Zone>"u"?void 0:Zone.current,hi))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xr=!1;function ua(n,e){!xr&&(Ur>de.SILENT||Wt())&&(xr=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Ur>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function da(n){let e=_(M,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Q(n){let e=_(M,{optional:!0});return e?e.run(()=>n()):n()}var ha=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),$e(t,()=>Q(()=>n.apply(void 0,i)))),V=(n,e,t)=>(t||=e?de.WARN:de.VERBOSE,function(){let i,r=arguments,s,o,c;try{s=_(fe),o=_(yi),c=_(_i)}catch{return ua(n,t),n.apply(this,r)}for(let u=0;u<arguments.length;u++)typeof r[u]=="function"&&(e&&(i||=Q(()=>o.add())),r[u]=ha(r[u],i,c));let a=da(()=>n.apply(this,r));return e?a instanceof Pt?a.pipe(Nt(s.outsideAngular),Ot(s.insideAngular),sr(c)):a instanceof Promise?Q(()=>{let u=o.add();return new Promise((h,p)=>{a.then(d=>$e(c,()=>Q(()=>h(d))),d=>$e(c,()=>Q(()=>p(d)))).finally(u)})}):typeof a=="function"&&i?function(){return setTimeout(i,0),a.apply(this,arguments)}:Q(()=>a):a instanceof Pt?a.pipe(Nt(s.outsideAngular),Ot(s.insideAngular)):Q(()=>a)});var ee=class{constructor(e){return e}},be=class{constructor(){return it()}};function fa(n){return n&&n.length===1?n[0]:new ee(we())}var pn=new ze("angularfire2._apps"),pa={provide:ee,useFactory:fa,deps:[[new Y,pn]]},ma={provide:be,deps:[[new Y,pn]]};function ga(n){return(e,t)=>{let i=t.get(qe);v("angularfire",he.full,"core"),v("angularfire",he.full,"app"),v("angular",Wi.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new ee(r)}}function yd(n,...e){return We([pa,ma,{provide:pn,useFactory:ga(n),multi:!0,deps:[M,je,fe,...e]}])}var Td=V(hn,!0);var _a=new Map,va={activated:!1,tokenObservers:[]},Ia={initialized:!1,enabled:!1};function A(n){return _a.get(n)||Object.assign({},va)}function $r(){return Ia}var Ea="https://content-firebaseappcheck.googleapis.com/v1";var ya="exchangeDebugToken",Vr={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Od=24*60*60*1e3;var _n=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return l(this,null,function*(){this.stop();try{this.pending=new X,this.pending.promise.catch(t=>{}),yield Ta(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new X,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Ta(n){return new Promise(e=>{setTimeout(e,n)})}var wa={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},z=new b("appCheck","AppCheck",wa);function Hr(n){if(!A(n).activated)throw z.create("use-before-activation",{appName:n.name})}function Br(i,r){return l(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let m=yield o.getHeartbeatsHeader();m&&(s["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:s},a;try{a=yield fetch(n,c)}catch(m){throw z.create("fetch-network-error",{originalErrorMessage:m?.message})}if(a.status!==200)throw z.create("fetch-status-error",{httpStatus:a.status});let u;try{u=yield a.json()}catch(m){throw z.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw z.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,d=Date.now();return{token:u.token,expireTimeMillis:d+p,issuedAtTimeMillis:d}})}function jr(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Ea}/projects/${t}/apps/${i}:${ya}?key=${r}`,body:{debug_token:e}}}var ba="firebase-app-check-database",Aa=1,vn="firebase-app-check-store";var ot=null;function Ca(){return ot||(ot=new Promise((n,e)=>{try{let t=indexedDB.open(ba,Aa);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(z.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(vn,{keyPath:"compositeKey"})}}}catch(t){e(z.create("storage-open",{originalErrorMessage:t?.message}))}}),ot)}function ka(n,e){return Sa(Pa(n),e)}function Sa(n,e){return l(this,null,function*(){let i=(yield Ca()).transaction(vn,"readwrite"),s=i.objectStore(vn).put({compositeKey:n,value:e});return new Promise((o,c)=>{s.onsuccess=a=>{o()},i.onerror=a=>{var u;c(z.create("storage-set",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function Pa(n){return`${n.options.appId}-${n.name}`}var Ae=new x("@firebase/app-check");function mn(n,e){return Qe()?ka(n,e).catch(t=>{Ae.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qr(){return $r().enabled}function Kr(){return l(this,null,function*(){let n=$r();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Ra={error:"UNKNOWN_ERROR"};function Oa(n){return Xe.encodeString(JSON.stringify(n),!1)}function In(n,e=!1,t=!1){return l(this,null,function*(){let i=n.app;Hr(i);let r=A(i),s=r.token,o;if(s&&!Ce(s)&&(r.token=void 0,s=void 0),!s){let u=yield r.cachedTokenPromise;u&&(Ce(u)?s=u:yield mn(i,void 0))}if(!e&&s&&Ce(s))return{token:s.token};let c=!1;if(qr())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=Br(jr(i,yield Kr()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);let u=yield r.exchangeTokenPromise;return yield mn(i,u),r.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ae.warn(u.message):t&&Ae.error(u),gn(u)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),s=yield A(i).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Ae.warn(u.message):t&&Ae.error(u),o=u}let a;return s?o?Ce(s)?a={token:s.token,internalError:o}:a=gn(o):(a={token:s.token},r.token=s,yield mn(i,s)):a=gn(o),c&&Ma(i,a),a})}function Na(n){return l(this,null,function*(){let e=n.app;Hr(e);let{provider:t}=A(e);if(qr()){let i=yield Kr(),{token:r}=yield Br(jr(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function Da(n,e,t,i){let{app:r}=n,s=A(r),o={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Ce(s.token)){let c=s.token;Promise.resolve().then(()=>{t({token:c.token}),zr(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>zr(n))}function Gr(n,e){let t=A(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function zr(n){let{app:e}=n,t=A(e),i=t.tokenRefresher;i||(i=La(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function La(n){let{app:e}=n;return new _n(()=>l(this,null,function*(){let t=A(e),i;if(t.token?i=yield In(n,!0):i=yield In(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=A(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Vr.RETRIAL_MIN_WAIT,Vr.RETRIAL_MAX_WAIT)}function Ma(n,e){let t=A(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ce(n){return n.expireTimeMillis-Date.now()>0}function gn(n){return{token:Oa(Ra),error:n}}var En=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=A(this.app);for(let t of e)Gr(this.app,t.next);return Promise.resolve()}};function Ua(n,e){return new En(n,e)}function xa(n){return{getToken:e=>In(n,e),getLimitedUseToken:()=>Na(n),addTokenListener:e=>Da(n,"INTERNAL",e),removeTokenListener:e=>Gr(n.app,e)}}var Fa="@firebase/app-check",Va="0.10.1";var za="app-check",Wr="app-check-internal";function Wa(){O(new E(za,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return Ua(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Wr).initialize()})),O(new E(Wr,n=>{let e=n.getProvider("app-check").getImmediate();return xa(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),v(Fa,Va)}Wa();var $a="app-check";var at=class{constructor(){return st($a)}};var Ha=["localhost","0.0.0.0","127.0.0.1"],Bd=typeof window<"u"&&Ha.includes(window.location.hostname);function us(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ds=us,hs=new b("auth","Firebase",us());var ft=new x("@firebase/auth");function Ba(n,...e){ft.logLevel<=g.WARN&&ft.warn(`Auth (${ue}): ${n}`,...e)}function lt(n,...e){ft.logLevel<=g.ERROR&&ft.error(`Auth (${ue}): ${n}`,...e)}function P(n,...e){throw jn(n,...e)}function te(n,...e){return jn(n,...e)}function fs(n,e,t){let i=Object.assign(Object.assign({},ds()),{[e]:t});return new b("auth","Firebase",i).create(e,{appName:n.name})}function L(n){return fs(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jn(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return hs.create(n,...e)}function f(n,e,...t){if(!n)throw jn(e,...t)}function N(n){let e="INTERNAL ASSERTION FAILED: "+n;throw lt(e),new Error(e)}function H(n,e){n||N(e)}function bn(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ja(){return Jr()==="http:"||Jr()==="https:"}function Jr(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function qa(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ja()||gr()||"connection"in navigator)?navigator.onLine:!0}function Ka(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ne=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,H(t>e,"Short delay should be less than long delay!"),this.isMobile=pr()||_r()}get(){return qa()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qn(n,e){H(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var pt=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;N("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;N("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;N("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ga={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ja=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ya=new ne(3e4,6e4);function B(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function j(s,o,c,a){return l(this,arguments,function*(n,e,t,i,r={}){return ps(n,r,()=>l(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let p=Ee(Object.assign({key:n.config.apiKey},h)).slice(1),d=yield n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:d},u);return mr()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Ie(n.emulatorConfig.host)&&(m.credentials="include"),pt.fetch()(yield ms(n,n.config.apiHost,t,p),m)}))})}function ps(n,e,t){return l(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},Ga),e);try{let r=new An(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ct(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw ct(n,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw ct(n,"email-already-in-use",o);if(a==="USER_DISABLED")throw ct(n,"user-disabled",o);let h=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fs(n,h,u);P(n,h)}}catch(r){if(r instanceof w)throw r;P(n,"network-request-failed",{message:String(r)})}})}function Me(s,o,c,a){return l(this,arguments,function*(n,e,t,i,r={}){let u=yield j(n,e,t,i,r);return"mfaPendingCredential"in u&&P(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function ms(n,e,t,i){return l(this,null,function*(){let r=`${e}${t}?${i}`,s=n,o=s.config.emulator?qn(n.config,r):`${n.config.apiScheme}://${r}`;return Ja.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function Xa(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var An=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(te(this.auth,"network-request-failed")),Ya.get())})}};function ct(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=te(n,e,i);return r.customData._tokenResponse=t,r}function Yr(n){return n!==void 0&&n.enterprise!==void 0}var Cn=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xa(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Za(n,e){return l(this,null,function*(){return j(n,"GET","/v2/recaptchaConfig",B(n,e))})}function Qa(n,e){return l(this,null,function*(){return j(n,"POST","/v1/accounts:delete",e)})}function mt(n,e){return l(this,null,function*(){return j(n,"POST","/v1/accounts:lookup",e)})}function Se(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Kn(n,e=!1){return l(this,null,function*(){let t=C(n),i=yield t.getIdToken(e),r=Gn(i);f(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Se(yn(r.auth_time)),issuedAtTime:Se(yn(r.iat)),expirationTime:Se(yn(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function yn(n){return Number(n)*1e3}function Gn(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return lt("JWT malformed, contained fewer than 3 sections"),null;try{let r=Ze(t);return r?JSON.parse(r):(lt("Failed to decode base64 JWT payload"),null)}catch(r){return lt("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Xr(n){let e=Gn(n);return f(e,"internal-error"),f(typeof e.exp<"u","internal-error"),f(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Re(n,e,t=!1){return l(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof w&&ec(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function ec({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var kn=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),t)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Oe=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Se(this.lastLoginAt),this.creationTime=Se(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gt(n){return l(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Re(n,mt(t,{idToken:i}));f(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?gs(s.providerUserInfo):[],c=tc(n.providerData,o),a=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!c?.length,h=a?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Oe(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Jn(n){return l(this,null,function*(){let e=C(n);yield gt(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function tc(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function gs(n){return n.map(e=>{var{providerId:t}=e,i=Rt(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function nc(n,e){return l(this,null,function*(){let t=yield ps(n,{},()=>l(this,null,function*(){let i=Ee({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=yield ms(n,r,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let a={method:"POST",headers:c,body:i};return n.emulatorConfig&&Ie(n.emulatorConfig.host)&&(a.credentials="include"),pt.fetch()(o,a)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function ic(n,e){return l(this,null,function*(){return j(n,"POST","/v2/accounts:revokeToken",B(n,e))})}var Pe=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){f(e.idToken,"internal-error"),f(typeof e.idToken<"u","internal-error"),f(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){f(e.length!==0,"internal-error");let t=Xr(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return l(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(f(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return l(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield nc(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(f(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(f(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(f(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return N("not implemented")}};function W(n,e){f(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var $=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Rt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oe(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let t=yield Re(this,this.stsTokenManager.getToken(this.auth,e));return f(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Kn(this,e)}reload(){return Jn(this)}_assign(e){this!==e&&(f(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){f(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return l(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield gt(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(y(this.auth.app))return Promise.reject(L(this.auth));let e=yield this.getIdToken();return yield Re(this,Qa(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,c,a,u,h;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,d=(r=t.email)!==null&&r!==void 0?r:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=t.photoURL)!==null&&o!==void 0?o:void 0,me=(c=t.tenantId)!==null&&c!==void 0?c:void 0,oe=(a=t._redirectEventId)!==null&&a!==void 0?a:void 0,ge=(u=t.createdAt)!==null&&u!==void 0?u:void 0,q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:Ue,isAnonymous:li,providerData:kt,stsTokenManager:ui}=t;f(K&&ui,e,"internal-error");let Ks=Pe.fromJSON(this.name,ui);f(typeof K=="string",e,"internal-error"),W(p,e.name),W(d,e.name),f(typeof Ue=="boolean",e,"internal-error"),f(typeof li=="boolean",e,"internal-error"),W(m,e.name),W(T,e.name),W(me,e.name),W(oe,e.name),W(ge,e.name),W(q,e.name);let St=new n({uid:K,auth:e,email:d,emailVerified:Ue,displayName:p,isAnonymous:li,photoURL:T,phoneNumber:m,tenantId:me,stsTokenManager:Ks,createdAt:ge,lastLoginAt:q});return kt&&Array.isArray(kt)&&(St.providerData=kt.map(Gs=>Object.assign({},Gs))),oe&&(St._redirectEventId=oe),St}static _fromIdTokenResponse(e,t,i=!1){return l(this,null,function*(){let r=new Pe;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield gt(s),s})}static _fromGetAccountInfoResponse(e,t,i){return l(this,null,function*(){let r=t.users[0];f(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?gs(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new Pe;c.updateFromIdToken(i);let a=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Oe(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(a,u),a})}};var Zr=new Map;function D(n){H(n instanceof Function,"Expected a class definition");let e=Zr.get(n);return e?(H(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Zr.set(n,e),e)}var rc=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(t,i){return l(this,null,function*(){this.storage[t]=i})}_get(t){return l(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return l(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),Sn=rc;function ut(n,e,t){return`firebase:${n}:${e}:${t}`}var _t=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=ut(this.userKey,r.apiKey,s),this.fullPersistenceKey=ut("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield mt(this.auth,{idToken:e}).catch(()=>{});return t?$._fromGetAccountInfoResponse(this.auth,t,e):null}return $._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return l(this,null,function*(){if(!t.length)return new n(D(Sn),e,i);let r=(yield Promise.all(t.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||D(Sn),o=ut(i,e.config.apiKey,e.name),c=null;for(let u of t)try{let h=yield u._get(o);if(h){let p;if(typeof h=="string"){let d=yield mt(e,{idToken:h}).catch(()=>{});if(!d)break;p=yield $._fromGetAccountInfoResponse(e,d,h)}else p=$._fromJSON(e,h);u!==s&&(c=p),s=u;break}}catch{}let a=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new n(s,e,i):(s=a[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function Qr(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Es(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_s(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ts(e))return"Blackberry";if(ws(e))return"Webos";if(vs(e))return"Safari";if((e.includes("chrome/")||Is(e))&&!e.includes("edge/"))return"Chrome";if(ys(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function _s(n=I()){return/firefox\//i.test(n)}function vs(n=I()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Is(n=I()){return/crios\//i.test(n)}function Es(n=I()){return/iemobile/i.test(n)}function ys(n=I()){return/android/i.test(n)}function Ts(n=I()){return/blackberry/i.test(n)}function ws(n=I()){return/webos/i.test(n)}function Yn(n=I()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sc(n=I()){var e;return Yn(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oc(){return vr()&&document.documentMode===10}function bs(n=I()){return Yn(n)||ys(n)||ws(n)||Ts(n)||/windows phone/i.test(n)||Es(n)}function As(n,e=[]){let t;switch(n){case"Browser":t=Qr(I());break;case"Worker":t=`${Qr(I())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ue}/${i}`}var Pn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,c)=>{try{let a=e(s);o(a)}catch(a){c(a)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function ac(t){return l(this,arguments,function*(n,e={}){return j(n,"GET","/v2/passwordPolicy",B(n,e))})}var cc=6,Rn=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:cc,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(t=a.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),a.isValid&&(a.isValid=(i=a.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(r=a.containsLowercaseLetter)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var On=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vt(this),this.idTokenSubscription=new vt(this),this.beforeStateQueue=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hs,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=D(t)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var i,r,s;if(!this._deleted&&(this.persistenceManager=yield _t.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let t=yield mt(this,{idToken:e}),i=yield $._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var t;if(y(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=r?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===c)&&a?.user&&(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return f(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return l(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield gt(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ka()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(y(this.app))return Promise.reject(L(this));let t=e?C(e):null;return t&&f(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return l(this,null,function*(){if(!this._deleted)return e&&f(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return y(this.app)?Promise.reject(L(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return y(this.app)?Promise.reject(L(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(D(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield ac(this),t=new Rn(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new b("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield ic(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return l(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&D(e)||this._popupRedirectResolver;f(t,this,"argument-error"),this.redirectPersistenceManager=yield _t.create(this,[D(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(f(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let a=e.addObserver(t,i,r);return()=>{o=!0,a()}}else{let a=e.addObserver(t);return()=>{o=!0,a()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return f(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=As(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return l(this,null,function*(){var e;if(y(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Ba(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function re(n){return C(n)}var vt=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yr(t=>this.observer=t)}get next(){return f(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var At={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lc(n){At=n}function Cs(n){return At.loadJS(n)}function uc(){return At.recaptchaEnterpriseScript}function dc(){return At.gapiScript}function ks(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Nn=class{constructor(){this.enterprise=new Dn}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Dn=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var hc="recaptcha-enterprise",Ss="NO_RECAPTCHA",Ln=class{constructor(e){this.type=hc,this.auth=re(e)}verify(e="verify",t=!1){return l(this,null,function*(){function i(s){return l(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>l(this,null,function*(){Za(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let u=new Cn(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{c(a)})}))})}function r(s,o,c){let a=window.grecaptcha;Yr(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ss)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Nn().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(c=>{if(!t&&Yr(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=uc();a.length!==0&&(a+=c),Cs(a).then(()=>{r(c,s,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})})}};function ke(n,e,t,i=!1,r=!1){return l(this,null,function*(){let s=new Ln(n),o;if(r)o=Ss;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let a=c.phoneEnrollmentInfo.phoneNumber,u=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let a=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function Mn(n,e,t,i,r){return l(this,null,function*(){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield ke(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(c=>l(this,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield ke(n,e,t,t==="getOobCode");return i(n,a)}else return Promise.reject(c)}));else if(r==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let c=yield ke(n,e,t);return i(n,c).catch(a=>l(this,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(a.code==="auth/missing-recaptcha-token"||a.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield ke(n,e,t,!1,!0);return i(n,h)}return Promise.reject(a)}))}else{let c=yield ke(n,e,t,!1,!0);return i(n,c)}else return Promise.reject(r+" provider is not supported.")})}function Xn(n,e){let t=nt(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(U(s,e??{}))return r;P(r,"already-initialized")}return t.initialize({options:e})}function fc(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(D);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function Zn(n,e,t){let i=re(n);f(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=Ps(e),{host:o,port:c}=pc(e),a=c===null?"":`:${c}`,u={url:`${s}//${o}${a}/`},h=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){f(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),f(U(u,i.config.emulator)&&U(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,Ie(o)?(hr(`${s}//${o}${a}`),fr("Auth",!0)):r||mc()}function Ps(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pc(n){let e=Ps(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:es(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:es(o)}}}function es(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function mc(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ne=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return N("not implemented")}_getIdTokenResponse(e){return N("not implemented")}_linkToIdToken(e,t){return N("not implemented")}_getReauthenticationResolver(e){return N("not implemented")}};function gc(n,e){return l(this,null,function*(){return j(n,"POST","/v1/accounts:signUp",e)})}function _c(n,e){return l(this,null,function*(){return Me(n,"POST","/v1/accounts:signInWithPassword",B(n,e))})}function vc(n,e){return l(this,null,function*(){return Me(n,"POST","/v1/accounts:signInWithEmailLink",B(n,e))})}function Ic(n,e){return l(this,null,function*(){return Me(n,"POST","/v1/accounts:signInWithEmailLink",B(n,e))})}var De=class n extends Ne{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mn(e,t,"signInWithPassword",_c,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return vc(e,{email:this._email,oobCode:this._password});default:P(e,"internal-error")}})}_linkToIdToken(e,t){return l(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mn(e,i,"signUpPassword",gc,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Ic(e,{idToken:t,email:this._email,oobCode:this._password});default:P(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Tn(n,e){return l(this,null,function*(){return Me(n,"POST","/v1/accounts:signInWithIdp",B(n,e))})}function Ec(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yc(n){let e=ce(le(n)).link,t=e?ce(le(e)).deep_link_id:null,i=ce(le(n)).deep_link_id;return(i?ce(le(i)).link:null)||i||t||e||n}var It=class n{constructor(e){var t,i,r,s,o,c;let a=ce(le(e)),u=(t=a.apiKey)!==null&&t!==void 0?t:null,h=(i=a.oobCode)!==null&&i!==void 0?i:null,p=Ec((r=a.mode)!==null&&r!==void 0?r:null);f(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.lang)!==null&&o!==void 0?o:null,this.tenantId=(c=a.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=yc(e);try{return new n(t)}catch{return null}}};var Rs=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return De._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=It.parseLink(i);return f(r,"argument-error"),De._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Et=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Un=class extends Et{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Tc(n,e){return l(this,null,function*(){return Me(n,"POST","/v1/accounts:signUp",B(n,e))})}var pe=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return l(this,null,function*(){let s=yield $._fromIdTokenResponse(e,i,r),o=ts(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return l(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=ts(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function ts(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var xn=class n extends w{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function Os(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xn._fromErrorAndOperation(n,s,e,i):s})}function wc(n,e,t=!1){return l(this,null,function*(){let i=yield Re(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return pe._forOperation(n,"link",i)})}function bc(n,e,t=!1){return l(this,null,function*(){let{auth:i}=n;if(y(i.app))return Promise.reject(L(i));let r="reauthenticate";try{let s=yield Re(n,Os(i,r,e,n),t);f(s.idToken,i,"internal-error");let o=Gn(s.idToken);f(o,i,"internal-error");let{sub:c}=o;return f(n.uid===c,i,"user-mismatch"),pe._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&P(i,"user-mismatch"),s}})}function Ns(n,e,t=!1){return l(this,null,function*(){if(y(n.app))return Promise.reject(L(n));let i="signIn",r=yield Os(n,i,e),s=yield pe._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function Qn(n,e){return l(this,null,function*(){return Ns(re(n),e)})}function Ds(n){return l(this,null,function*(){let e=re(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ei(n,e,t){return l(this,null,function*(){if(y(n.app))return Promise.reject(L(n));let i=re(n),o=yield Mn(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tc,"EMAIL_PASSWORD_PROVIDER").catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Ds(n),a}),c=yield pe._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(c.user),c})}function ti(n,e,t){return y(n.app)?Promise.reject(L(n)):Qn(C(n),Rs.credential(e,t)).catch(i=>l(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Ds(n),i}))}function ni(n,e,t,i){return C(n).onIdTokenChanged(e,t,i)}function ii(n,e,t){return C(n).beforeAuthStateChanged(e,t)}function ri(n){return C(n).signOut()}var yt="__sak";var Tt=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yt,"1"),this.storage.removeItem(yt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Ac=1e3,Cc=10,kc=(()=>{class n extends Tt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bs(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((c,a,u)=>{this.notifyListeners(c,u)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);oc()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Cc):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Ac)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return l(this,null,function*(){yield J(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return l(this,null,function*(){let i=yield J(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return l(this,null,function*(){yield J(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Ls=kc;var Sc=(()=>{class n extends Tt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),si=Sc;function Pc(n){return Promise.all(n.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Rc=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return l(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,c=this.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let a=Array.from(c).map(h=>l(this,null,function*(){return h(i.origin,o)})),u=yield Pc(a);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Ms(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var Fn=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return l(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,a)=>{let u=Ms("",20);r.port1.start();let h=setTimeout(()=>{a(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){let d=p;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(d.data.response);break;default:clearTimeout(h),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function S(){return window}function Oc(n){S().location.href=n}function Us(){return typeof S().WorkerGlobalScope<"u"&&typeof S().importScripts=="function"}function Nc(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Dc(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Lc(){return Us()?self:null}var xs="firebaseLocalStorageDb",Mc=1,wt="firebaseLocalStorage",Fs="fbase_key",ie=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ct(n,e){return n.transaction([wt],e?"readwrite":"readonly").objectStore(wt)}function Uc(){let n=indexedDB.deleteDatabase(xs);return new ie(n).toPromise()}function Vn(){let n=indexedDB.open(xs,Mc);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(wt,{keyPath:Fs})}catch(r){t(r)}}),n.addEventListener("success",()=>l(this,null,function*(){let i=n.result;i.objectStoreNames.contains(wt)?e(i):(i.close(),yield Uc(),e(yield Vn()))}))})}function ns(n,e,t){return l(this,null,function*(){let i=Ct(n,!0).put({[Fs]:e,value:t});return new ie(i).toPromise()})}function xc(n,e){return l(this,null,function*(){let t=Ct(n,!1).get(e),i=yield new ie(t).toPromise();return i===void 0?null:i.value})}function is(n,e){let t=Ct(n,!0).delete(e);return new ie(t).toPromise()}var Fc=800,Vc=3,zc=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield Vn(),this.db)})}_withRetries(t){return l(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>Vc)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return Us()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Rc._getInstance(Lc()),this.receiver._subscribe("keyChanged",(t,i)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var t,i;if(this.activeServiceWorker=yield Nc(),!this.activeServiceWorker)return;this.sender=new Fn(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Dc()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Vn();return yield ns(t,yt,"1"),yield is(t,yt),!0}catch{}return!1})}_withPendingWrite(t){return l(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>ns(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return l(this,null,function*(){let i=yield this._withRetries(r=>xc(r,t));return this.localCache[t]=i,i})}_remove(t){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>is(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return l(this,null,function*(){let t=yield this._withRetries(s=>{let o=Ct(s,!1).getAll();return new ie(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Fc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Vs=zc;var Zd=ks("rcb"),Qd=new ne(3e4,6e4);function Wc(n,e){return e?D(e):(f(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Le=class extends Ne{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tn(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function $c(n){return Ns(n.auth,new Le(n),n.bypassAuthState)}function Hc(n){let{auth:e,user:t}=n;return f(t,e,"internal-error"),bc(t,new Le(n),n.bypassAuthState)}function Bc(n){return l(this,null,function*(){let{auth:e,user:t}=n;return f(t,e,"internal-error"),wc(t,new Le(n),n.bypassAuthState)})}var zn=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $c;case"linkViaPopup":case"linkViaRedirect":return Bc;case"reauthViaPopup":case"reauthViaRedirect":return Hc;default:P(this.auth,"internal-error")}}resolve(e){H(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){H(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var eh=new ne(2e3,1e4);var jc="pendingRedirect",dt=new Map,Wn=class n extends zn{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return l(this,null,function*(){let e=dt.get(this.auth._key());if(!e){try{let i=(yield qc(this.resolver,this.auth))?yield J(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}dt.set(this.auth._key(),e)}return this.bypassAuthState||dt.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return J(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,J(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function qc(n,e){return l(this,null,function*(){let t=Jc(e),i=Gc(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function Kc(n,e){dt.set(n._key(),e)}function Gc(n){return D(n._redirectPersistence)}function Jc(n){return ut(jc,n.config.apiKey,n.name)}function Yc(n,e,t=!1){return l(this,null,function*(){if(y(n.app))return Promise.reject(L(n));let i=re(n),r=Wc(i,e),o=yield new Wn(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var Xc=10*60*1e3,$n=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zc(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!zs(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(te(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xc&&this.cachedEventUids.clear(),this.cachedEventUids.has(rs(e))}saveEventToCache(e){this.cachedEventUids.add(rs(e)),this.lastProcessedEventTime=Date.now()}};function rs(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zs({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Zc(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zs(n);default:return!1}}function Qc(t){return l(this,arguments,function*(n,e={}){return j(n,"GET","/v1/projects",e)})}var el=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tl=/^https?/;function nl(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Qc(n);for(let t of e)try{if(il(t))return}catch{}P(n,"unauthorized-domain")})}function il(n){let e=bn(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!tl.test(t))return!1;if(el.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var rl=new ne(3e4,6e4);function ss(){let n=S().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sl(n){return new Promise((e,t)=>{var i,r,s;function o(){ss(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ss(),t(te(n,"network-request-failed"))},timeout:rl.get()})}if(!((r=(i=S().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=S().gapi)===null||s===void 0)&&s.load)o();else{let c=ks("iframefcb");return S()[c]=()=>{gapi.load?o():t(te(n,"network-request-failed"))},Cs(`${dc()}?onload=${c}`).catch(a=>t(a))}}).catch(e=>{throw ht=null,e})}var ht=null;function ol(n){return ht=ht||sl(n),ht}var al=new ne(5e3,15e3),cl="__/auth/iframe",ll="emulator/auth/iframe",ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hl(n){let e=n.config;f(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?qn(e,ll):`https://${n.config.authDomain}/${cl}`,i={apiKey:e.apiKey,appName:n.name,v:ue},r=dl.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Ee(i).slice(1)}`}function fl(n){return l(this,null,function*(){let e=yield ol(n),t=S().gapi;return f(t,n,"internal-error"),e.open({where:document.body,url:hl(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ul,dontclear:!0},i=>new Promise((r,s)=>l(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=te(n,"network-request-failed"),c=S().setTimeout(()=>{s(o)},al.get());function a(){S().clearTimeout(c),r(i)}i.ping(a).then(a,()=>{s(o)})})))})}var pl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ml=500,gl=600,_l="_blank",vl="http://localhost",bt=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Il(n,e,t,i=ml,r=gl){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",a=Object.assign(Object.assign({},pl),{width:i.toString(),height:r.toString(),top:s,left:o}),u=I().toLowerCase();t&&(c=Is(u)?_l:t),_s(u)&&(e=e||vl,a.scrollbars="yes");let h=Object.entries(a).reduce((d,[m,T])=>`${d}${m}=${T},`,"");if(sc(u)&&c!=="_self")return El(e||"",c),new bt(null);let p=window.open(e||"",c,h);f(p,n,"popup-blocked");try{p.focus()}catch{}return new bt(p)}function El(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var yl="__/auth/handler",Tl="emulator/auth/handler",wl=encodeURIComponent("fac");function os(n,e,t,i,r,s){return l(this,null,function*(){f(n.config.authDomain,n,"auth-domain-config-required"),f(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ue,eventId:r};if(e instanceof Et){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Er(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Un){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let a=yield n._getAppCheckToken(),u=a?`#${wl}=${encodeURIComponent(a)}`:"";return`${bl(n)}?${Ee(c).slice(1)}${u}`})}function bl({config:n}){return n.emulator?qn(n,Tl):`https://${n.authDomain}/${yl}`}var wn="webStorageSupport",Hn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=si,this._completeRedirectFn=Yc,this._overrideRedirectResult=Kc}_openPopup(e,t,i,r){return l(this,null,function*(){var s;H((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield os(e,t,i,bn(),r);return Il(e,o,Ms())})}_openRedirect(e,t,i,r){return l(this,null,function*(){yield this._originValidation(e);let s=yield os(e,t,i,bn(),r);return Oc(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(H(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return l(this,null,function*(){let t=yield fl(e),i=new $n(e);return t.register("authEvent",r=>(f(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wn,{type:wn},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[wn];o!==void 0&&t(!!o),P(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nl(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bs()||vs()||Yn()}},Ws=Hn;var as="@firebase/auth",cs="1.10.8";var Bn=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){f(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Al(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cl(n){O(new E("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;f(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let a={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:As(n)},u=new On(i,r,s,a);return fc(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),O(new E("auth-internal",e=>{let t=re(e.getProvider("auth").getImmediate());return(i=>new Bn(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),v(as,cs,Al(n)),v(as,cs,"esm2017")}var kl=5*60,Sl=Yt("authIdTokenMaxAge")||kl,ls=null,Pl=n=>e=>l(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Sl)return;let r=t?.token;ls!==r&&(ls=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function oi(n=we()){let e=nt(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Xn(n,{popupRedirectResolver:Ws,persistence:[Vs,Ls,si]}),i=Yt("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=Pl(s.toString());ii(t,o,()=>o(t.currentUser)),ni(t,c=>o(c))}}let r=dr("auth");return r&&Zn(t,`http://${r}`),t}function Rl(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lc({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=te("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Rl().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cl("Browser");var $s="auth",se=class{constructor(e){return e}},ai=class{constructor(){return st($s)}};var ci=new ze("angularfire2.auth-instances");function Iu(n,e){let t=fn($s,n,e);return t&&new se(t)}function Eu(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new se(i)}}var yu={provide:ai,deps:[[new Y,ci]]},Tu={provide:se,useFactory:Iu,deps:[[new Y,ci],ee]};function zh(n,...e){return v("angularfire",he.full,"auth"),We([Tu,yu,{provide:ci,useFactory:Eu(n),multi:!0,deps:[M,je,fe,be,[new Y,at],...e]}])}var Hs=V(ei,!0,2);var Wh=V(oi,!0);var Bs=V(ti,!0,2);var js=V(ri,!0,2);var qs=class n{constructor(e){this.auth=e}register(e,t){return Hs(this.auth,e,t)}login(e,t){return Bs(this.auth,e,t)}logout(){return js(this.auth)}static \u0275fac=function(t){return new(t||n)(gi(se))};static \u0275prov=Ve({token:n,factory:n.\u0275fac,providedIn:"root"})};var bu=["overlay"];function Au(n,e){if(n&1&&(Ri(0),xi(1),Oi()),n&2){let t=zt(2);_e(),Fi(t.nzTitle)}}function Cu(n,e){if(n&1&&(Ft(0,"div",2)(1,"div",3)(2,"div",4),Pi(3,"span",5),Vt(),Ft(4,"div",6),Ut(5,Au,2,1,"ng-container",7),Vt()()()),n&2){let t=zt();Je(t.nzOverlayStyle),Si(t._classMap),xt("ant-tooltip-rtl",t.dir==="rtl"),Ge("@.disabled",!!(t.noAnimation!=null&&t.noAnimation.nzNoAnimation))("nzNoAnimation",t.noAnimation==null?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),_e(3),Je(t._contentStyleMap),_e(),Je(t._contentStyleMap),_e(),Ge("nzStringTemplateOutlet",t.nzTitle)("nzStringTemplateOutletContext",t.nzTitleContext)}}var ku=(()=>{class n{componentType;config;cdkConnectedOverlayPush;visibleChange=new Lt;get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){let t=this.placement;return Array.isArray(t)&&t.length>0?t:typeof t=="string"&&t?[t]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}get _overlayClickable(){return this.overlayClickable??!0}internalVisible=!1;getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}component;destroy$=new xe;triggerDisposables=[];delayTimer;elementRef=_(Ti);hostView=_(Ci);renderer=_(bi);noAnimation=_(Ye,{host:!0,optional:!0});nzConfigService=_(Ki);platformId=_(qe);constructor(t){this.componentType=t}ngAfterViewInit(){Hi(this.platformId)&&(this.createComponent(),this.registerTriggers())}ngOnChanges(t){let{trigger:i}=t;i&&!i.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){let t=this.hostView.createComponent(this.componentType);this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();let i=this.component.nzVisibleChange.pipe(mi());i.pipe(Fe(this.destroy$)).subscribe(r=>{this.internalVisible=r,this.visibleChange.emit(r)}),i.pipe(Dt(r=>r),pi(0,di),Dt(()=>!!this.component?.overlay?.overlayRef),Fe(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){let t=this.elementRef.nativeElement,i=this.trigger;if(this.removeTriggerListeners(),i==="hover"){let r;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!r&&(r=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(r,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(r,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else i==="focus"?(this.triggerDisposables.push(this.renderer.listen(t,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"focusout",()=>this.hide()))):i==="click"&&this.triggerDisposables.push(this.renderer.listen(t,"click",r=>{r.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){let i=G({title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],overlayClickable:["nzOverlayClickable",()=>this._overlayClickable],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],cdkConnectedOverlayPush:["cdkConnectedOverlayPush",()=>this.cdkConnectedOverlayPush]},this.getProxyPropertyMap());(t||Object.keys(i).filter(r=>!r.startsWith("directive"))).forEach(r=>{if(i[r]){let[s,o]=i[r];this.updateComponentValue(s,o())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,i){typeof i<"u"&&(this.component[t]=i)}delayEnterLeave(t,i,r=-1){this.delayTimer?this.clearTogglingTimer():r>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,i?this.show():this.hide()},r*1e3):i&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}static \u0275fac=function(i){return new(i||n)(Ai(vi))};static \u0275dir=Ke({type:n,features:[Ii]})}return n})(),Su=(()=>{class n{overlay;noAnimation=_(Ye,{host:!0,optional:!0});cdr=_($i);directionality=_(Ji);nzTitle=null;nzContent=null;nzArrowPointAtCenter=!1;nzOverlayClassName;nzOverlayStyle={};nzOverlayClickable=!0;nzBackdrop=!1;nzMouseEnterDelay;nzMouseLeaveDelay;cdkConnectedOverlayPush=!0;nzVisibleChange=new xe;set nzVisible(t){let i=qi(t);this._visible!==i&&(this._visible=i,this.nzVisibleChange.next(i))}get nzVisible(){return this._visible}_visible=!1;set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}_trigger="hover";set nzPlacement(t){let i=t.map(r=>Zi[r]);this._positions=[...i,...Ht]}preferredPlacement="top";origin;dir="ltr";_classMap={};_prefix="ant-tooltip";_positions=[...Ht];destroy$=new xe;ngOnInit(){this.directionality.change?.pipe(Fe(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.getDirection()==="rtl"&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=Qi(t),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){if(!this.nzOverlayClickable)return;let i=Gi(t);!this.origin.nativeElement.contains(i)&&this.nzTrigger!==null&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap=ae(G({},this.transformClassListToMap(this.nzOverlayClassName)),{[`${this._prefix}-placement-${this.preferredPlacement}`]:!0})}transformClassListToMap(t){let i={};return(t!==null?t.split(/\s+/):[]).forEach(s=>i[s]=!0),i}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ke({type:n,viewQuery:function(i,r){if(i&1&&Li(bu,5),i&2){let s;Mi(s=Ui())&&(r.overlay=s.first)}}})}return n})();function Pu(n){return n instanceof wi?!1:n===""||!ji(n)}var Ef=(()=>{class n extends ku{title;titleContext=null;directiveTitle;trigger="hover";placement="top";origin;visible;mouseEnterDelay;mouseLeaveDelay;overlayClassName;overlayStyle;arrowPointAtCenter;cdkConnectedOverlayPush=!0;nzTooltipColor;directiveContent=null;content=null;overlayClickable;visibleChange=new Lt;constructor(){super(Ru)}getProxyPropertyMap(){return ae(G({},super.getProxyPropertyMap()),{nzTooltipColor:["nzColor",()=>this.nzTooltipColor],titleContext:["nzTitleContext",()=>this.titleContext]})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ke({type:n,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(i,r){i&2&&xt("ant-tooltip-open",r.visible)},inputs:{title:[0,"nzTooltipTitle","title"],titleContext:[0,"nzTooltipTitleContext","titleContext"],directiveTitle:[0,"nz-tooltip","directiveTitle"],trigger:[0,"nzTooltipTrigger","trigger"],placement:[0,"nzTooltipPlacement","placement"],origin:[0,"nzTooltipOrigin","origin"],visible:[0,"nzTooltipVisible","visible"],mouseEnterDelay:[0,"nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[0,"nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[0,"nzTooltipOverlayClassName","overlayClassName"],overlayStyle:[0,"nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:[2,"nzTooltipArrowPointAtCenter","arrowPointAtCenter",$t],cdkConnectedOverlayPush:[2,"cdkConnectedOverlayPush","cdkConnectedOverlayPush",$t],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[Mt]})}return n})(),Ru=(()=>{class n extends Su{nzTitle=null;nzTitleContext=null;nzColor;_contentStyleMap={};isEmpty(){return Pu(this.nzTitle)}updateStyles(){let t=this.nzColor&&Bi(this.nzColor);this._classMap=ae(G({},this.transformClassListToMap(this.nzOverlayClassName)),{[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t}),this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null,"--antd-arrow-background-color":this.nzColor}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=Ei(n)))(r||n)}})();static \u0275cmp=ki({type:n,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[Mt],decls:2,vars:5,consts:[["overlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter"],[1,"ant-tooltip",3,"nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content"],[1,"ant-tooltip-inner"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(i,r){if(i&1){let s=Ni();Ut(0,Cu,6,15,"ng-template",1,0,Vi),Di("overlayOutsideClick",function(c){return He(s),Be(r.onClickOutside(c))})("detach",function(){return He(s),Be(r.hide())})("positionChange",function(c){return He(s),Be(r.onPositionChange(c))})}i&2&&Ge("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayPush",r.cdkConnectedOverlayPush)("nzArrowPointAtCenter",r.nzArrowPointAtCenter)},dependencies:[Xi,Yi,Ye,rr,ir,tr,er],encapsulation:2,data:{animation:[nr]},changeDetection:0})}return n})();export{ku as a,Pu as b,Ef as c,Ru as d,yd as e,Td as f,zh as g,Wh as h,qs as i};
